// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// 
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

enum InputType {
  TEXT
  NUMBER
  SELECT
}

model InputOption {
  id     Int     @id @unique @default(autoincrement())
  name   String
  inputs Input[]
  // inputOptionOnInput InputOptionOnInput[]
}

model Input {
  id       Int           @id @unique @default(autoincrement())
  name     String
  type     InputType
  products Product[]
  options  InputOption[]
  // inputOnProducts    InputOnProducts[]
  // inputOptionOnInput InputOptionOnInput[]
}

// model InputOptionOnInput {
//   input         Input       @relation(fields: [inputId], references: [id])
//   inputId       Int
//   inputOption   InputOption @relation(fields: [inputOptionId], references: [id])
//   inputOptionId Int

//   @@id([inputId, inputOptionId])
// }

model Product {
  id          Int     @id @unique @default(autoincrement())
  name        String
  description String?
  imageUrl    String?
  inputs      Input[]
  // inputOnProducts InputOnProducts[]
}

// model InputOnProducts {
//   input     Input   @relation(fields: [inputId], references: [id])
//   inputId   Int
//   product   Product @relation(fields: [productId], references: [id])
//   productId Int

//   @@id([inputId, productId])
// }

model Budget {
  id Int @id @default(autoincrement())
}
